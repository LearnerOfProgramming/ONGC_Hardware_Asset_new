{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91981\\\\Nigel\\\\Internship\\\\ONGC\\\\ONGC_REACT_RACK\\\\myapp\\\\src\\\\components\\\\reusable\\\\SpecificationsDialog.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, MenuItem, Select, TextField, Typography } from '@mui/material';\nimport axios from 'axios';\nimport { FaArrowRight } from 'react-icons/fa';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SpecificationsDialog = ({\n  open,\n  onClose,\n  componentDetails,\n  color,\n  label,\n  isAdmin,\n  onSave\n}) => {\n  _s();\n  var _component$specificat;\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedComponent, setEditedComponent] = useState({});\n  const [isChanged, setIsChanged] = useState(false);\n  const [showChanges, setShowChanges] = useState(false);\n  const [vendors, setVendors] = useState([]);\n  const [vendorValue, setVendorValue] = useState('');\n  useEffect(() => {\n    fetchVendors();\n  }, []);\n  useEffect(() => {\n    if (componentDetails.specifications.vendorID) {\n      const vendor = componentDetails.specifications.vendorID;\n      setVendorValue(`${vendor.vendorID[0]}(${vendor.vendorName})`);\n    }\n    setEditedComponent(JSON.parse(JSON.stringify(componentDetails)));\n  }, [componentDetails]);\n  const fetchVendors = async () => {\n    try {\n      const response = await axios.get('/general/vendors');\n      setVendors(response.data);\n      console.log(vendors);\n    } catch (error) {\n      console.error('Error fetching vendors:', error);\n    }\n  };\n  const handleClose = () => {\n    setIsEditing(false);\n    setIsChanged(false);\n    setShowChanges(false);\n    onClose();\n  };\n  const handleEdit = () => {\n    setIsEditing(true);\n  };\n  const handleSave = () => {\n    setShowChanges(true);\n  };\n  const confirmSave = async () => {\n    try {\n      setIsEditing(false);\n      setIsChanged(false);\n      setShowChanges(false);\n      const updatedComponent = {\n        ...editedComponent,\n        specifications: {\n          ...editedComponent.specifications,\n          vendorID: editedComponent.specifications.vendorID._id\n        },\n        customFields: editedComponent.customFields\n      };\n      const response = await axios.put(`/admin/edit-component/${editedComponent._id}`, {\n        specifications: updatedComponent.specifications,\n        customFields: updatedComponent.customFields\n      });\n      if (response.status === 200) {\n        console.log('Component updated successfully');\n      } else {\n        throw new Error('Failed to update component');\n      }\n      handleClose();\n      onSave();\n    } catch (error) {\n      console.error('Error updating component:', error);\n    }\n  };\n  const handleInputChange = (key, value, vendorId = null) => {\n    setEditedComponent(prev => {\n      const updated = JSON.parse(JSON.stringify(prev));\n      if (vendorId) {\n        const matches = value.match(/^(.+?)\\((.+?)\\)$/);\n        if (matches) {\n          setVendorValue(value);\n          updated.specifications.vendorID = {\n            _id: vendorId,\n            vendorName: matches[2],\n            vendorID: [matches[1]]\n          };\n        }\n      } else {\n        const originalValue = componentDetails.specifications[key];\n        let typedValue = value;\n        if (typeof originalValue === 'number' && !isNaN(Number(value))) {\n          typedValue = Number(value);\n        } else if (typeof originalValue === 'boolean') {\n          typedValue = value === 'true' || value === true;\n        }\n        updated.specifications[key] = typedValue;\n      }\n      const hasChanged = isObjectChanged(updated, componentDetails);\n      setIsChanged(hasChanged);\n      return updated;\n    });\n  };\n  const handleCustomFieldChange = (index, value) => {\n    setEditedComponent(prev => {\n      const updated = JSON.parse(JSON.stringify(prev));\n      updated.customFields[index].value = value;\n      const hasChanged = isObjectChanged(updated, componentDetails);\n      setIsChanged(hasChanged);\n      return updated;\n    });\n  };\n  const isObjectChanged = (obj1, obj2) => {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n      return true;\n    }\n    for (const key of keys1) {\n      const val1 = obj1[key];\n      const val2 = obj2[key];\n      const areObjects = isObject(val1) && isObject(val2);\n      if (areObjects && isObjectChanged(val1, val2) || !areObjects && val1 !== val2) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const isObject = object => {\n    return object != null && typeof object === 'object';\n  };\n  const renderComparisonField = (label, oldValue, newValue, key) => {\n    if (oldValue === newValue) return null;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          color: \"text.secondary\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: oldValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 1,\n        children: /*#__PURE__*/_jsxDEV(FaArrowRight, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"primary\",\n          textAlign: 'center',\n          children: newValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  };\n  const renderField = item => {\n    if (isEditing) {\n      if (item.key === 'vendor') {\n        return /*#__PURE__*/_jsxDEV(Select, {\n          fullWidth: true,\n          value: vendorValue,\n          children: vendors.map(vendor => {\n            const vendor_value = `${vendor.vendorID[0]}(${vendor.vendorName})`;\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: vendor_value,\n              onClick: () => handleInputChange(item.key, vendor_value, vendor._id),\n              children: vendor_value\n            }, vendor._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this);\n      } else if (item.key === 'ram' || item.key === 'hdd') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          value: editedComponent.specifications[item.key],\n          onChange: e => handleInputChange(item.key, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          value: editedComponent.specifications[item.key],\n          onChange: e => handleInputChange(item.key, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      if (item.key === 'vendor') {\n        try {\n          return /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: `${item.value.vendorName}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 18\n          }, this);\n        } catch (err) {\n          console.log(item);\n        }\n      }\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: item.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const renderCustomField = (field, index) => {\n    if (isEditing) {\n      if (field.type === 'string') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          value: field.value,\n          onChange: e => handleCustomFieldChange(index, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this);\n      } else if (field.type === 'date') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"date\",\n          value: field.value,\n          onChange: e => handleCustomFieldChange(index, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: field.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  let component = isEditing ? editedComponent : componentDetails;\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"specifications-dialog-title\",\n    maxWidth: \"sm\",\n    fullWidth: true,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      id: \"specifications-dialog-title\",\n      sx: {\n        bgcolor: color,\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        children: label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      dividers: true,\n      children: showChanges ? /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [[{\n          label: \"Service Tag / SN\",\n          oldValue: componentDetails.specifications.serialNo,\n          newValue: editedComponent.specifications.serialNo,\n          key: \"serialNo\"\n        }, {\n          label: \"Make / Model\",\n          oldValue: componentDetails.specifications.makeModel,\n          newValue: editedComponent.specifications.makeModel,\n          key: \"makeModel\"\n        }, ...(componentDetails.type === 1 ? [{\n          label: \"RAM (GB)\",\n          oldValue: componentDetails.specifications.ram,\n          newValue: editedComponent.specifications.ram,\n          key: \"ram\"\n        }, {\n          label: \"HDD (GB)\",\n          oldValue: componentDetails.specifications.hdd,\n          newValue: editedComponent.specifications.hdd,\n          key: \"hdd\"\n        }] : []), {\n          label: \"Vendor\",\n          oldValue: `${componentDetails.specifications.vendorID.vendorID}(${componentDetails.specifications.vendorID.vendorName})`,\n          newValue: `${editedComponent.specifications.vendorID.vendorID}(${editedComponent.specifications.vendorID.vendorName})`,\n          key: \"vendor\"\n        }].map(item => renderComparisonField(item.label, item.oldValue, item.newValue, item.key)), editedComponent.customFields.map((field, index) => renderComparisonField(field.name, componentDetails.customFields[index].value, field.value, `customField_${index}`))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [[{\n          label: \"Service Tag / SN\",\n          value: component.specifications.serialNo,\n          key: \"serialNo\"\n        }, {\n          label: \"Make / Model\",\n          value: component.specifications.makeModel,\n          key: \"makeModel\"\n        }, ...(componentDetails.type === 1 ? [{\n          label: \"RAM (GB)\",\n          value: component.specifications.ram,\n          key: \"ram\"\n        }, {\n          label: \"HDD (GB)\",\n          value: component.specifications.hdd,\n          key: \"hdd\"\n        }] : []), {\n          label: \"Vendor\",\n          value: (_component$specificat = component.specifications) === null || _component$specificat === void 0 ? void 0 : _component$specificat.vendorID,\n          key: \"vendor\"\n        }].map(item => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 4,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            children: renderField(item)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this)]\n        }, item.key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 15\n        }, this)), component.customFields.map((field, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 4,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle2\",\n              color: \"text.secondary\",\n              children: field.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 8,\n            children: renderCustomField(field, index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this)]\n        }, `customField_${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [isChanged && !showChanges && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSave,\n        color: \"primary\",\n        variant: \"contained\",\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this), showChanges && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: confirmSave,\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Confirm Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), !showChanges && !isEditing && isAdmin && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleEdit,\n        color: \"primary\",\n        variant: \"contained\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 11\n      }, this), !showChanges && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n};\n_s(SpecificationsDialog, \"vRm/jGm1ihFDUxTzoUprSFl03g8=\");\n_c = SpecificationsDialog;\nexport default SpecificationsDialog;\nvar _c;\n$RefreshReg$(_c, \"SpecificationsDialog\");","map":{"version":3,"names":["React","useState","useEffect","Button","Dialog","DialogActions","DialogContent","DialogTitle","Grid","MenuItem","Select","TextField","Typography","axios","FaArrowRight","jsxDEV","_jsxDEV","Fragment","_Fragment","SpecificationsDialog","open","onClose","componentDetails","color","label","isAdmin","onSave","_s","_component$specificat","isEditing","setIsEditing","editedComponent","setEditedComponent","isChanged","setIsChanged","showChanges","setShowChanges","vendors","setVendors","vendorValue","setVendorValue","fetchVendors","specifications","vendorID","vendor","vendorName","JSON","parse","stringify","response","get","data","console","log","error","handleClose","handleEdit","handleSave","confirmSave","updatedComponent","_id","customFields","put","status","Error","handleInputChange","key","value","vendorId","prev","updated","matches","match","originalValue","typedValue","isNaN","Number","hasChanged","isObjectChanged","handleCustomFieldChange","index","obj1","obj2","keys1","Object","keys","keys2","length","val1","val2","areObjects","isObject","object","renderComparisonField","oldValue","newValue","children","item","xs","variant","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","renderField","fullWidth","map","vendor_value","onClick","size","type","onChange","e","target","err","renderCustomField","field","component","maxWidth","id","sx","bgcolor","dividers","container","spacing","serialNo","makeModel","ram","hdd","name","_c","$RefreshReg$"],"sources":["C:/Users/91981/Nigel/Internship/ONGC/ONGC_REACT_RACK/myapp/src/components/reusable/SpecificationsDialog.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, Grid, MenuItem, Select, TextField, Typography } from '@mui/material';\r\nimport axios from 'axios';\r\nimport { FaArrowRight } from 'react-icons/fa';\r\n\r\nconst SpecificationsDialog = ({\r\n  open,\r\n  onClose,\r\n  componentDetails,\r\n  color,\r\n  label,\r\n  isAdmin,\r\n  onSave\r\n}) => {\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedComponent, setEditedComponent] = useState({});\r\n  const [isChanged, setIsChanged] = useState(false);\r\n  const [showChanges, setShowChanges] = useState(false);\r\n  const [vendors, setVendors] = useState([]);\r\n  const [vendorValue, setVendorValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchVendors();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (componentDetails.specifications.vendorID) {\r\n      const vendor = componentDetails.specifications.vendorID;\r\n      setVendorValue(`${vendor.vendorID[0]}(${vendor.vendorName})`);\r\n      \r\n    }\r\n    setEditedComponent(JSON.parse(JSON.stringify(componentDetails)));\r\n  }, [componentDetails]);\r\n\r\n  const fetchVendors = async () => {\r\n    try {\r\n      const response = await axios.get('/general/vendors');\r\n      setVendors(response.data);\r\n      console.log(vendors)\r\n    } catch (error) {\r\n      console.error('Error fetching vendors:', error);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setIsEditing(false);\r\n    setIsChanged(false);\r\n    setShowChanges(false);\r\n    onClose();\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setShowChanges(true);\r\n  };\r\n\r\n  const confirmSave = async () => {\r\n    try {\r\n      setIsEditing(false);\r\n      setIsChanged(false);\r\n      setShowChanges(false);\r\n\r\n      const updatedComponent = {\r\n        ...editedComponent,\r\n        specifications: {\r\n          ...editedComponent.specifications,\r\n          vendorID: editedComponent.specifications.vendorID._id\r\n        },\r\n        customFields: editedComponent.customFields,\r\n      };\r\n\r\n      const response = await axios.put(`/admin/edit-component/${editedComponent._id}`, {\r\n        specifications: updatedComponent.specifications,\r\n        customFields: updatedComponent.customFields\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log('Component updated successfully');\r\n      } else {\r\n        throw new Error('Failed to update component');\r\n      }\r\n\r\n      handleClose();\r\n      onSave();\r\n    } catch (error) {\r\n      console.error('Error updating component:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (key, value, vendorId = null) => {\r\n    setEditedComponent(prev => {\r\n      const updated = JSON.parse(JSON.stringify(prev));\r\n\r\n      if (vendorId) {\r\n        const matches = value.match(/^(.+?)\\((.+?)\\)$/);\r\n        if (matches) {\r\n          setVendorValue(value);\r\n          updated.specifications.vendorID = {\r\n            _id: vendorId,\r\n            vendorName: matches[2],\r\n            vendorID: [matches[1]],\r\n          };\r\n        }\r\n      } else {\r\n        const originalValue = componentDetails.specifications[key];\r\n        let typedValue = value;\r\n\r\n        if (typeof originalValue === 'number' && !isNaN(Number(value))) {\r\n          typedValue = Number(value);\r\n        } else if (typeof originalValue === 'boolean') {\r\n          typedValue = value === 'true' || value === true;\r\n        }\r\n\r\n        updated.specifications[key] = typedValue;\r\n      }\r\n\r\n      const hasChanged = isObjectChanged(updated, componentDetails);\r\n      setIsChanged(hasChanged);\r\n\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const handleCustomFieldChange = (index, value) => {\r\n    setEditedComponent(prev => {\r\n      const updated = JSON.parse(JSON.stringify(prev));\r\n      updated.customFields[index].value = value;\r\n\r\n      const hasChanged = isObjectChanged(updated, componentDetails);\r\n      setIsChanged(hasChanged);\r\n\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const isObjectChanged = (obj1, obj2) => {\r\n    const keys1 = Object.keys(obj1);\r\n    const keys2 = Object.keys(obj2);\r\n\r\n    if (keys1.length !== keys2.length) {\r\n      return true;\r\n    }\r\n\r\n    for (const key of keys1) {\r\n      const val1 = obj1[key];\r\n      const val2 = obj2[key];\r\n      const areObjects = isObject(val1) && isObject(val2);\r\n\r\n      if (\r\n        (areObjects && isObjectChanged(val1, val2)) ||\r\n        (!areObjects && val1 !== val2)\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const isObject = (object) => {\r\n    return object != null && typeof object === 'object';\r\n  };\r\n\r\n  const renderComparisonField = (label, oldValue, newValue, key) => {\r\n    if (oldValue === newValue) return null;\r\n    return (\r\n      <React.Fragment key={key}>\r\n        <Grid item xs={4}>\r\n          <Typography variant=\"subtitle2\" color=\"text.secondary\">{label}</Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"body2\">{oldValue}</Typography>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <FaArrowRight />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <Typography variant=\"body2\" color=\"primary\" textAlign={'center'}>{newValue}</Typography>\r\n        </Grid>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  const renderField = (item) => {\r\n    if (isEditing) {\r\n      if (item.key === 'vendor') {\r\n        return (\r\n          <Select\r\n            fullWidth\r\n            value={vendorValue}\r\n          >\r\n            {vendors.map((vendor) => {\r\n              const vendor_value = `${vendor.vendorID[0]}(${vendor.vendorName})`;\r\n              return (\r\n                <MenuItem \r\n                  key={vendor._id} \r\n                  value={vendor_value}\r\n                  onClick={() => handleInputChange(item.key, vendor_value, vendor._id)}\r\n                >\r\n                  {vendor_value}\r\n                </MenuItem>\r\n              );\r\n            })}\r\n          </Select>\r\n        );\r\n      } else if (item.key === 'ram' || item.key === 'hdd') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            type=\"number\"\r\n            value={editedComponent.specifications[item.key]}\r\n            onChange={(e) => handleInputChange(item.key, e.target.value)}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={editedComponent.specifications[item.key]}\r\n            onChange={(e) => handleInputChange(item.key, e.target.value)}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      if (item.key === 'vendor') {\r\n        try {\r\n          \r\n          return <Typography variant=\"body2\">{`${item.value.vendorName}`}</Typography>;\r\n        } catch (err) {\r\n          console.log(item)\r\n        }\r\n      }\r\n      return <Typography variant=\"body2\">{item.value}</Typography>;\r\n    }\r\n  };\r\n\r\n  const renderCustomField = (field, index) => {\r\n    if (isEditing) {\r\n      if (field.type === 'string') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={field.value}\r\n            onChange={(e) => handleCustomFieldChange(index, e.target.value)}\r\n          />\r\n        );\r\n      } else if (field.type === 'date') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            value={field.value}\r\n            onChange={(e) => handleCustomFieldChange(index, e.target.value)}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      return <Typography variant=\"body2\">{field.value}</Typography>;\r\n    }\r\n  };\r\n\r\n\r\n  let component = isEditing ? editedComponent : componentDetails;\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"specifications-dialog-title\"\r\n      maxWidth=\"sm\"\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"specifications-dialog-title\" sx={{ bgcolor: color, color: 'white' }}>\r\n        <Typography variant=\"h6\">{label}</Typography>\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        {showChanges ? (\r\n          <Grid container spacing={3}>\r\n            {[\r\n              { label: \"Service Tag / SN\", oldValue: componentDetails.specifications.serialNo, newValue: editedComponent.specifications.serialNo, key: \"serialNo\" },\r\n              { label: \"Make / Model\", oldValue: componentDetails.specifications.makeModel, newValue: editedComponent.specifications.makeModel, key: \"makeModel\" },\r\n              ...(componentDetails.type === 1 ? [\r\n                { label: \"RAM (GB)\", oldValue: componentDetails.specifications.ram, newValue: editedComponent.specifications.ram, key: \"ram\" },\r\n                { label: \"HDD (GB)\", oldValue: componentDetails.specifications.hdd, newValue: editedComponent.specifications.hdd, key: \"hdd\" },\r\n              ] : []),\r\n              { label: \"Vendor\", oldValue: `${componentDetails.specifications.vendorID.vendorID}(${componentDetails.specifications.vendorID.vendorName})`, newValue: `${editedComponent.specifications.vendorID.vendorID}(${editedComponent.specifications.vendorID.vendorName})`, key: \"vendor\" },\r\n            ].map(item => renderComparisonField(item.label, item.oldValue, item.newValue, item.key))}\r\n            {editedComponent.customFields.map((field, index) => renderComparisonField(field.name, componentDetails.customFields[index].value, field.value, `customField_${index}`))}\r\n          </Grid>\r\n        ) : (\r\n          <Grid container spacing={3}>\r\n            {[\r\n              { label: \"Service Tag / SN\", value: component.specifications.serialNo, key: \"serialNo\" },\r\n              { label: \"Make / Model\", value: component.specifications.makeModel, key: \"makeModel\" },\r\n              ...(componentDetails.type === 1 ? [\r\n                { label: \"RAM (GB)\", value: component.specifications.ram, key: \"ram\" },\r\n                { label: \"HDD (GB)\", value: component.specifications.hdd, key: \"hdd\" },\r\n              ] : []),\r\n              { label: \"Vendor\", value: component.specifications?.vendorID, key: \"vendor\" },\r\n            ].map(item => (\r\n              <React.Fragment key={item.key}>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">{item.label}</Typography>\r\n                </Grid>\r\n                <Grid item xs={8}>\r\n                  {renderField(item)}\r\n                </Grid>\r\n              </React.Fragment>\r\n            ))}\r\n            {component.customFields.map((field, index) => (\r\n              <React.Fragment key={`customField_${index}`}>\r\n                <Grid item xs={4}>\r\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">{field.name}</Typography>\r\n                </Grid>\r\n                <Grid item xs={8}>\r\n                  {renderCustomField(field, index)}\r\n                </Grid>\r\n              </React.Fragment>\r\n            ))}\r\n          </Grid>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        {isChanged && !showChanges && (\r\n          <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\r\n            Save Changes\r\n          </Button>\r\n        )}\r\n        {showChanges && (\r\n          <>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={confirmSave} color=\"primary\" variant=\"contained\">\r\n              Confirm Save\r\n            </Button>\r\n          </>\r\n        )}\r\n        {!showChanges && !isEditing && isAdmin && (\r\n          <Button onClick={handleEdit} color=\"primary\" variant=\"contained\">\r\n            Edit\r\n          </Button>\r\n        )}\r\n        {!showChanges && (\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        )}\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default SpecificationsDialog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}