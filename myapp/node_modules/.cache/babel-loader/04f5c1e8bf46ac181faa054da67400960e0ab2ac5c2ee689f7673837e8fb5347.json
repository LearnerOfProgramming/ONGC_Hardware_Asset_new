{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91981\\\\Nigel\\\\Internship\\\\ONGC\\\\ONGC_REACT_RACK\\\\myapp\\\\src\\\\components\\\\reusable\\\\Badge.js\",\n  _s = $RefreshSig$();\nimport { Button, Chip, Dialog, DialogActions, DialogContent, DialogTitle, Grid, MenuItem, Select, TextField, Typography } from '@mui/material';\nimport axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport { FaArrowRight } from 'react-icons/fa';\nimport DialogComponent from './DialogComponent';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Badge = props => {\n  _s();\n  const [open, setOpen] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedComponent, setEditedComponent] = useState({});\n  const [isChanged, setIsChanged] = useState(false);\n  const [showChanges, setShowChanges] = useState(false);\n  const [vendors, setVendors] = useState([]);\n  const [vendorValue, setVendorValue] = useState('');\n  useEffect(() => {\n    setIsAdmin(localStorage.getItem('isAdmin') === 'true');\n    fetchVendors();\n  }, []);\n  useEffect(() => {\n    if (props.componentDetails.specifications.vendorID) {\n      setVendorValue(`${props.componentDetails.specifications.vendorID.vendorID}(${props.componentDetails.specifications.vendorID.vendorName})`);\n    }\n  }, [props.componentDetails]);\n  const fetchVendors = async () => {\n    try {\n      const response = await axios.get('/general/vendors');\n      setVendors(response.data);\n    } catch (error) {\n      console.error('Error fetching vendors:', error);\n    }\n  };\n  const dialogContent = showChanges ? /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    children: [[{\n      label: \"Service Tag / SN\",\n      oldValue: props.componentDetails.specifications.serialNo,\n      newValue: editedComponent.specifications.serialNo,\n      key: \"serialNo\"\n    }, {\n      label: \"Make / Model\",\n      oldValue: props.componentDetails.specifications.makeModel,\n      newValue: editedComponent.specifications.makeModel,\n      key: \"makeModel\"\n    }, ...(props.componentDetails.type === 1 ? [{\n      label: \"RAM (GB)\",\n      oldValue: props.componentDetails.specifications.ram,\n      newValue: editedComponent.specifications.ram,\n      key: \"ram\"\n    }, {\n      label: \"HDD (GB)\",\n      oldValue: props.componentDetails.specifications.hdd,\n      newValue: editedComponent.specifications.hdd,\n      key: \"hdd\"\n    }] : []), {\n      label: \"Vendor\",\n      oldValue: `${props.componentDetails.specifications.vendorID.vendorID}(${props.componentDetails.specifications.vendorID.vendorName})`,\n      newValue: `${editedComponent.specifications.vendorID.vendorID}(${editedComponent.specifications.vendorID.vendorName})`,\n      key: \"vendor\"\n    }].map(item => renderComparisonField(item.label, item.oldValue, item.newValue, item.key)), editedComponent.customFields.map((field, index) => renderComparisonField(field.name, props.componentDetails.customFields[index].value, field.value, `customField_${index}`))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    children: [[{\n      label: \"Service Tag / SN\",\n      value: component.specifications.serialNo,\n      key: \"serialNo\"\n    }, {\n      label: \"Make / Model\",\n      value: component.specifications.makeModel,\n      key: \"makeModel\"\n    }, ...(props.componentDetails.type === 1 ? [{\n      label: \"RAM (GB)\",\n      value: component.specifications.ram,\n      key: \"ram\"\n    }, {\n      label: \"HDD (GB)\",\n      value: component.specifications.hdd,\n      key: \"hdd\"\n    }] : []), {\n      label: \"Vendor\",\n      value: component.specifications.vendorID,\n      key: \"vendor\"\n    }].map(item => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          color: \"text.secondary\",\n          children: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: renderField(item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, item.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }, this)), component.customFields.map((field, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          color: \"text.secondary\",\n          children: field.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: renderCustomField(field, index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }, this)]\n    }, `customField_${index}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);\n  const dialogActions = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isChanged && !showChanges && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleSave,\n      color: \"primary\",\n      variant: \"contained\",\n      children: \"Save Changes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), showChanges && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: confirmSave,\n        color: \"primary\",\n        variant: \"contained\",\n        children: \"Confirm Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), !showChanges && !isEditing && isAdmin && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleEdit,\n      color: \"primary\",\n      variant: \"contained\",\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this), !showChanges && /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleClose,\n      color: \"primary\",\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n  const handleClickOpen = () => {\n    setOpen(true);\n    setEditedComponent(JSON.parse(JSON.stringify(props.componentDetails)));\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setIsEditing(false);\n    setIsChanged(false);\n    setShowChanges(false);\n  };\n  const handleEdit = () => {\n    setIsEditing(true);\n  };\n  const handleSave = () => {\n    setShowChanges(true);\n  };\n  const confirmSave = async () => {\n    try {\n      setIsEditing(false);\n      setIsChanged(false);\n      setShowChanges(false);\n      const updatedComponent = {\n        ...editedComponent,\n        specifications: {\n          ...editedComponent.specifications,\n          vendorID: editedComponent.specifications.vendorID._id\n        },\n        customFields: editedComponent.customFields\n      };\n      const response = await axios.put(`/admin/edit-component/${editedComponent._id}`, {\n        specifications: updatedComponent.specifications,\n        customFields: updatedComponent.customFields\n      });\n      if (response.status === 200) {\n        console.log('Component updated successfully');\n      } else {\n        throw new Error('Failed to update component');\n      }\n      handleClose();\n      props.onSave();\n    } catch (error) {\n      console.error('Error updating component:', error);\n    }\n  };\n  const handleInputChange = (key, value, vendorId = null) => {\n    setEditedComponent(prev => {\n      const updated = JSON.parse(JSON.stringify(prev));\n      if (vendorId) {\n        const matches = value.match(/^(.+?)\\((.+?)\\)$/);\n        if (matches) {\n          setVendorValue(value);\n          updated.specifications.vendorID = {\n            _id: vendorId,\n            vendorName: matches[2],\n            vendorID: matches[1]\n          };\n        }\n      } else {\n        const originalValue = props.componentDetails.specifications[key];\n        let typedValue = value;\n        if (typeof originalValue === 'number' && !isNaN(Number(value))) {\n          typedValue = Number(value);\n        } else if (typeof originalValue === 'boolean') {\n          typedValue = value === 'true' || value === true;\n        }\n        updated.specifications[key] = typedValue;\n      }\n      const hasChanged = isObjectChanged(updated, props.componentDetails);\n      setIsChanged(hasChanged);\n      return updated;\n    });\n  };\n  const handleCustomFieldChange = (index, value) => {\n    setEditedComponent(prev => {\n      const updated = JSON.parse(JSON.stringify(prev));\n      updated.customFields[index].value = value;\n      const hasChanged = isObjectChanged(updated, props.componentDetails);\n      setIsChanged(hasChanged);\n      return updated;\n    });\n  };\n  const isObjectChanged = (obj1, obj2) => {\n    const keys1 = Object.keys(obj1);\n    const keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n      return true;\n    }\n    for (const key of keys1) {\n      const val1 = obj1[key];\n      const val2 = obj2[key];\n      const areObjects = isObject(val1) && isObject(val2);\n      if (areObjects && isObjectChanged(val1, val2) || !areObjects && val1 !== val2) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const isObject = object => {\n    return object != null && typeof object === 'object';\n  };\n  const renderComparisonField = (label, oldValue, newValue, key) => {\n    if (oldValue === newValue) return null;\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          color: \"text.secondary\",\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: oldValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 1,\n        children: /*#__PURE__*/_jsxDEV(FaArrowRight, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"primary\",\n          textAlign: 'center',\n          children: newValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this);\n  };\n  const renderField = item => {\n    if (isEditing) {\n      if (item.key === 'vendor') {\n        return /*#__PURE__*/_jsxDEV(Select, {\n          fullWidth: true,\n          value: vendorValue,\n          children: vendors.map(vendor => {\n            const vendor_value = `${vendor.vendorID}(${vendor.vendorName})`;\n            return /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: vendor_value,\n              onClick: () => handleInputChange(item.key, vendor_value, vendor._id),\n              children: vendor_value\n            }, vendor._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this);\n      } else if (item.key === 'ram' || item.key === 'hdd') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"number\",\n          value: editedComponent.specifications[item.key],\n          onChange: e => handleInputChange(item.key, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          value: editedComponent.specifications[item.key],\n          onChange: e => handleInputChange(item.key, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      if (item.key === 'vendor') {\n        return /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: `${item.value.vendorID}(${item.value.vendorName})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: item.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const renderCustomField = (field, index) => {\n    if (isEditing) {\n      if (field.type === 'string') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          value: field.value,\n          onChange: e => handleCustomFieldChange(index, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this);\n      } else if (field.type === 'date') {\n        return /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\",\n          type: \"date\",\n          value: field.value,\n          onChange: e => handleCustomFieldChange(index, e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        children: field.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  let component = isEditing ? editedComponent : props.componentDetails;\n  return props.label ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Chip, {\n      label: props.label,\n      onClick: handleClickOpen,\n      sx: {\n        backgroundColor: props.color,\n        color: 'white',\n        fontFamily: 'Montserrat',\n        zIndex: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(DialogComponent, {\n      open: open,\n      onClose: handleClose,\n      title: props.label,\n      titleColor: props.color,\n      content: dialogContent,\n      actions: dialogActions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Badge, \"q8K7OvtmrWhxE1MHSgOIwn1DXPo=\");\n_c = Badge;\nexport default Badge;\nvar _c;\n$RefreshReg$(_c, \"Badge\");","map":{"version":3,"names":["Button","Chip","Dialog","DialogActions","DialogContent","DialogTitle","Grid","MenuItem","Select","TextField","Typography","axios","React","useState","useEffect","FaArrowRight","DialogComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","Badge","props","_s","open","setOpen","isAdmin","setIsAdmin","isEditing","setIsEditing","editedComponent","setEditedComponent","isChanged","setIsChanged","showChanges","setShowChanges","vendors","setVendors","vendorValue","setVendorValue","localStorage","getItem","fetchVendors","componentDetails","specifications","vendorID","vendorName","response","get","data","error","console","dialogContent","container","spacing","children","label","oldValue","serialNo","newValue","key","makeModel","type","ram","hdd","map","item","renderComparisonField","customFields","field","index","name","value","fileName","_jsxFileName","lineNumber","columnNumber","component","xs","variant","color","renderField","renderCustomField","dialogActions","onClick","handleSave","handleClose","confirmSave","handleEdit","handleClickOpen","JSON","parse","stringify","updatedComponent","_id","put","status","log","Error","onSave","handleInputChange","vendorId","prev","updated","matches","match","originalValue","typedValue","isNaN","Number","hasChanged","isObjectChanged","handleCustomFieldChange","obj1","obj2","keys1","Object","keys","keys2","length","val1","val2","areObjects","isObject","object","textAlign","fullWidth","vendor","vendor_value","size","onChange","e","target","sx","backgroundColor","fontFamily","zIndex","onClose","title","titleColor","content","actions","_c","$RefreshReg$"],"sources":["C:/Users/91981/Nigel/Internship/ONGC/ONGC_REACT_RACK/myapp/src/components/reusable/Badge.js"],"sourcesContent":["import { Button, Chip, Dialog, DialogActions, DialogContent, DialogTitle, Grid, MenuItem, Select, TextField, Typography } from '@mui/material';\r\nimport axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { FaArrowRight } from 'react-icons/fa';\r\nimport DialogComponent from './DialogComponent';\r\n\r\nconst Badge = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [editedComponent, setEditedComponent] = useState({});\r\n  const [isChanged, setIsChanged] = useState(false);\r\n  const [showChanges, setShowChanges] = useState(false);\r\n  const [vendors, setVendors] = useState([]);\r\n  const [vendorValue, setVendorValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    setIsAdmin(localStorage.getItem('isAdmin') === 'true');\r\n    fetchVendors();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.componentDetails.specifications.vendorID) {\r\n      setVendorValue(`${props.componentDetails.specifications.vendorID.vendorID}(${props.componentDetails.specifications.vendorID.vendorName})`);\r\n    }\r\n  }, [props.componentDetails]);\r\n\r\n  const fetchVendors = async () => {\r\n    try {\r\n      const response = await axios.get('/general/vendors');\r\n      setVendors(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching vendors:', error);\r\n    }\r\n  };\r\n\r\n  const dialogContent = (\r\n    showChanges ? (\r\n      <Grid container spacing={3}>\r\n                {[\r\n                  { label: \"Service Tag / SN\", oldValue: props.componentDetails.specifications.serialNo, newValue: editedComponent.specifications.serialNo, key: \"serialNo\" },\r\n                  { label: \"Make / Model\", oldValue: props.componentDetails.specifications.makeModel, newValue: editedComponent.specifications.makeModel, key: \"makeModel\" },\r\n                  ...(props.componentDetails.type === 1 ? [\r\n                    { label: \"RAM (GB)\", oldValue: props.componentDetails.specifications.ram, newValue: editedComponent.specifications.ram, key: \"ram\" },\r\n                    { label: \"HDD (GB)\", oldValue: props.componentDetails.specifications.hdd, newValue: editedComponent.specifications.hdd, key: \"hdd\" },\r\n                  ] : []),\r\n                  { label: \"Vendor\", oldValue: `${props.componentDetails.specifications.vendorID.vendorID}(${props.componentDetails.specifications.vendorID.vendorName})`, newValue: `${editedComponent.specifications.vendorID.vendorID}(${editedComponent.specifications.vendorID.vendorName})`, key: \"vendor\" },\r\n                ].map(item => renderComparisonField(item.label, item.oldValue, item.newValue, item.key))}\r\n                {editedComponent.customFields.map((field, index) => renderComparisonField(field.name, props.componentDetails.customFields[index].value, field.value, `customField_${index}`))}\r\n              </Grid>\r\n    ) : (\r\n      <Grid container spacing={3}>\r\n                {[\r\n                  { label: \"Service Tag / SN\", value: component.specifications.serialNo, key: \"serialNo\" },\r\n                  { label: \"Make / Model\", value: component.specifications.makeModel, key: \"makeModel\" },\r\n                  ...(props.componentDetails.type === 1 ? [\r\n                    { label: \"RAM (GB)\", value: component.specifications.ram, key: \"ram\" },\r\n                    { label: \"HDD (GB)\", value: component.specifications.hdd, key: \"hdd\" },\r\n                  ] : []),\r\n                  { label: \"Vendor\", value: component.specifications.vendorID, key: \"vendor\" },\r\n                ].map(item => (\r\n                  <React.Fragment key={item.key}>\r\n                    <Grid item xs={4}>\r\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">{item.label}</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={8}>\r\n                      {renderField(item)}\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                ))}\r\n                {component.customFields.map((field, index) => (\r\n                  <React.Fragment key={`customField_${index}`}>\r\n                    <Grid item xs={4}>\r\n                      <Typography variant=\"subtitle2\" color=\"text.secondary\">{field.name}</Typography>\r\n                    </Grid>\r\n                    <Grid item xs={8}>\r\n                      {renderCustomField(field, index)}\r\n                    </Grid>\r\n                  </React.Fragment>\r\n                ))}\r\n              </Grid>\r\n    )\r\n  );\r\n\r\n  const dialogActions = (\r\n    <>\r\n      {isChanged && !showChanges && (\r\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\r\n          Save Changes\r\n        </Button>\r\n      )}\r\n      {showChanges && (\r\n        <>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={confirmSave} color=\"primary\" variant=\"contained\">\r\n            Confirm Save\r\n          </Button>\r\n        </>\r\n      )}\r\n      {!showChanges && !isEditing && isAdmin && (\r\n        <Button onClick={handleEdit} color=\"primary\" variant=\"contained\">\r\n          Edit\r\n        </Button>\r\n      )}\r\n      {!showChanges && (\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Close\r\n        </Button>\r\n      )}\r\n    </>\r\n  );\r\n\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n    setEditedComponent(JSON.parse(JSON.stringify(props.componentDetails)));\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    setIsEditing(false);\r\n    setIsChanged(false);\r\n    setShowChanges(false);\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setShowChanges(true);\r\n  };\r\n\r\n  const confirmSave = async () => {\r\n    try {\r\n      setIsEditing(false);\r\n      setIsChanged(false);\r\n      setShowChanges(false);\r\n\r\n      const updatedComponent = {\r\n        ...editedComponent,\r\n        specifications: {\r\n          ...editedComponent.specifications,\r\n          vendorID: editedComponent.specifications.vendorID._id\r\n        },\r\n        customFields: editedComponent.customFields,\r\n      };\r\n\r\n      const response = await axios.put(`/admin/edit-component/${editedComponent._id}`, {\r\n        specifications: updatedComponent.specifications,\r\n        customFields: updatedComponent.customFields\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log('Component updated successfully');\r\n      } else {\r\n        throw new Error('Failed to update component');\r\n      }\r\n\r\n      handleClose();\r\n      props.onSave();\r\n    } catch (error) {\r\n      console.error('Error updating component:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (key, value, vendorId = null) => {\r\n    setEditedComponent(prev => {\r\n      const updated = JSON.parse(JSON.stringify(prev));\r\n\r\n      if (vendorId) {\r\n        const matches = value.match(/^(.+?)\\((.+?)\\)$/);\r\n        if (matches) {\r\n          setVendorValue(value);\r\n          updated.specifications.vendorID = {\r\n            _id: vendorId,\r\n            vendorName: matches[2],\r\n            vendorID: matches[1],\r\n          };\r\n        }\r\n      } else {\r\n        const originalValue = props.componentDetails.specifications[key];\r\n        let typedValue = value;\r\n\r\n        if (typeof originalValue === 'number' && !isNaN(Number(value))) {\r\n          typedValue = Number(value);\r\n        } else if (typeof originalValue === 'boolean') {\r\n          typedValue = value === 'true' || value === true;\r\n        }\r\n\r\n        updated.specifications[key] = typedValue;\r\n      }\r\n\r\n      const hasChanged = isObjectChanged(updated, props.componentDetails);\r\n      setIsChanged(hasChanged);\r\n\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const handleCustomFieldChange = (index, value) => {\r\n    setEditedComponent(prev => {\r\n      const updated = JSON.parse(JSON.stringify(prev));\r\n      updated.customFields[index].value = value;\r\n\r\n      const hasChanged = isObjectChanged(updated, props.componentDetails);\r\n      setIsChanged(hasChanged);\r\n\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const isObjectChanged = (obj1, obj2) => {\r\n    const keys1 = Object.keys(obj1);\r\n    const keys2 = Object.keys(obj2);\r\n\r\n    if (keys1.length !== keys2.length) {\r\n      return true;\r\n    }\r\n\r\n    for (const key of keys1) {\r\n      const val1 = obj1[key];\r\n      const val2 = obj2[key];\r\n      const areObjects = isObject(val1) && isObject(val2);\r\n\r\n      if (\r\n        (areObjects && isObjectChanged(val1, val2)) ||\r\n        (!areObjects && val1 !== val2)\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  const isObject = (object) => {\r\n    return object != null && typeof object === 'object';\r\n  };\r\n\r\n  const renderComparisonField = (label, oldValue, newValue, key) => {\r\n    if (oldValue === newValue) return null;\r\n    return (\r\n      <React.Fragment key={key}>\r\n        <Grid item xs={4}>\r\n          <Typography variant=\"subtitle2\" color=\"text.secondary\">{label}</Typography>\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <Typography variant=\"body2\">{oldValue}</Typography>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <FaArrowRight />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <Typography variant=\"body2\" color=\"primary\" textAlign={'center'}>{newValue}</Typography>\r\n        </Grid>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n\r\n  const renderField = (item) => {\r\n    if (isEditing) {\r\n      if (item.key === 'vendor') {\r\n        return (\r\n          <Select\r\n            fullWidth\r\n            value={vendorValue}\r\n          >\r\n            {vendors.map((vendor) => {\r\n              const vendor_value = `${vendor.vendorID}(${vendor.vendorName})`;\r\n              return (\r\n                <MenuItem \r\n                  key={vendor._id} \r\n                  value={vendor_value}\r\n                  onClick={() => handleInputChange(item.key, vendor_value, vendor._id)}\r\n                >\r\n                  {vendor_value}\r\n                </MenuItem>\r\n              );\r\n            })}\r\n          </Select>\r\n        );\r\n      } else if (item.key === 'ram' || item.key === 'hdd') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            type=\"number\"\r\n            value={editedComponent.specifications[item.key]}\r\n            onChange={(e) => handleInputChange(item.key, e.target.value)}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={editedComponent.specifications[item.key]}\r\n            onChange={(e) => handleInputChange(item.key, e.target.value)}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      if (item.key === 'vendor') {\r\n        return <Typography variant=\"body2\">{`${item.value.vendorID}(${item.value.vendorName})`}</Typography>;\r\n      }\r\n      return <Typography variant=\"body2\">{item.value}</Typography>;\r\n    }\r\n  };\r\n\r\n  const renderCustomField = (field, index) => {\r\n    if (isEditing) {\r\n      if (field.type === 'string') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={field.value}\r\n            onChange={(e) => handleCustomFieldChange(index, e.target.value)}\r\n          />\r\n        );\r\n      } else if (field.type === 'date') {\r\n        return (\r\n          <TextField\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            type=\"date\"\r\n            value={field.value}\r\n            onChange={(e) => handleCustomFieldChange(index, e.target.value)}\r\n          />\r\n        );\r\n      }\r\n    } else {\r\n      return <Typography variant=\"body2\">{field.value}</Typography>;\r\n    }\r\n  };\r\n\r\n  let component = isEditing ? editedComponent : props.componentDetails;\r\n\r\n  return (\r\n    props.label ?\r\n      <>\r\n        <Chip\r\n          label={props.label}\r\n          onClick={handleClickOpen}\r\n          sx={{ backgroundColor: props.color, color: 'white', fontFamily: 'Montserrat', zIndex: 10 }}\r\n        />\r\n        <DialogComponent\r\n          open={open}\r\n          onClose={handleClose}\r\n          title={props.label}\r\n          titleColor={props.color}\r\n          content={dialogContent}\r\n          actions={dialogActions}\r\n        />\r\n      </>\r\n      : <></>\r\n  );\r\n};\r\n\r\nexport default Badge;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}